{% extends 'base.html' %}

{% block title%}Dashboard{% endblock title%}

{% block header %}
    <h2>Dashboard</h2>

    <a href="{{ url_for('add_article') }}">Add New Article</a>
    <div>
        <a href="{{ url_for('logout')}}">Logout</a>
    </div>

{% endblock header %}

{% block content %}
    <ul>
        {% for article in articles %}
            <li>
                <a href="/article/{{ article.slug }}">{{ article.title }}</a>
                <a href="/edit-article/{{ article.slug }}">Edit</a>
                <a href="/delete-article/{{ article.slug }}" onclick="return confirm('Are you sure you want to delete this article?');">Delete</a>
   
                <br>
                {{ article.date_published }}
            </li>
            <br>
        {% endfor %}
    </ul>   

    {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
            {% endif %}
    {% endwith %} 
{% endblock content %}

